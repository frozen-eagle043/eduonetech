{"ast":null,"code":"var _jsxFileName = \"/workspace/eduonetech/src/components/Profile.js\";\nimport React from 'react';\nimport { useState } from 'react';\nimport CalendarHeatmap from 'react-calendar-heatmap';\nimport 'react-calendar-heatmap/dist/styles.css';\nimport Navbar from './Navbar';\nimport FriendsList from './Friendlist';\nimport firebase from 'firebase';\nimport { useAuth } from '../contexts/AuthContext.js';\nimport { useEffect } from 'react';\nimport app from '../firebase';\n\nfunction Profile() {\n  const [searchText, setSearchText] = useState('');\n  const [text2, setText2] = useState('');\n  const [First, setFirst] = useState('');\n  const [Last, setLast] = useState('');\n  const [aboutMe, setAboutMe] = useState([]);\n  const {\n    currentUser\n  } = useAuth();\n  const [lastLogin, setLastLogin] = useState(null); // Simulating a login event\n\n  const handleSearchChange = event => {\n    setSearchText(event.target.value);\n  };\n\n  const handleSearchChange1 = event => {\n    setText2(event.target.value);\n  };\n\n  const handleSearchChange2 = event => {\n    setFirst(event.target.value);\n  };\n\n  const handleSearchChange3 = event => {\n    setLast(event.target.value);\n  };\n\n  const handleLogin = () => {\n    const now = new Date();\n    setLastLogin(now);\n  };\n\n  function Form() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }\n    }, \"First Name:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: firstName,\n      onChange: event => setFirstName(event.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, \"Last Name:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: lastName,\n      onChange: event => setLastName(event.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, \"About Me:\", /*#__PURE__*/React.createElement(\"textarea\", {\n      value: aboutMe,\n      onChange: event => setAboutMe(event.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, \"Interests:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: interests,\n      onChange: event => setInterests(event.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }), formError && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: 'red'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, formError), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }, \"Submit\")));\n  }\n\n  useEffect(() => {\n    // const currentUser = firebase.auth().currentUser;\n    const userId = app.auth().currentUser.uid; //const LoginDate = new Date();\n    //const currentUserRef = db.collection('users').doc(currentUser.uid);\n    //const AboutRef = db.collection('users').doc(userId);\n\n    const userRef = firebase.firestore().collection('users').doc(userId);\n    userRef.get().then(doc => {\n      if (doc.exists) {\n        const data = doc.data();\n        setAboutMe(data);\n      } else {\n        console.log('No such document!');\n      }\n    }).catch(error => {\n      console.log('Error getting document:', error);\n    });\n  }, []);\n\n  const handleAddAboutMe = (text2, text) => {\n    const db = firebase.firestore();\n    const currentUserRef = db.collection('users').doc(currentUser.uid);\n    currentUserRef.set({\n      First: First,\n      Last: Last,\n      email: currentUser.email,\n      loginDate: new Date(),\n      Aboutme: text,\n      Interests: text2\n    }).then(() => {\n      console.log('About me  added successfully!');\n    }).catch(error => {\n      console.error('Error adding About me:', error);\n    });\n  }; // Generate random heatmap data\n\n\n  const generateHeatmapData = () => {\n    const today = new Date();\n    const yearAgo = new Date(today.getFullYear() - 1, today.getMonth(), today.getDate());\n    const data = [];\n\n    for (let date = yearAgo; date <= today; date.setDate(date.getDate() + 1)) {\n      const count = Math.floor(Math.random() * 4);\n      data.push({\n        date: new Date(date.getTime()),\n        count\n      });\n    }\n\n    return data;\n  };\n\n  const [showForm, setShowForm] = useState(false);\n\n  const toggleForm = () => {\n    setShowForm(!showForm);\n  };\n\n  const heatmapData = generateHeatmapData(); // Calculate number of empty days\n\n  const emptyDays = heatmapData.filter(data => data.count === 0).length;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"avatar\",\n    src: \"https://avatars.githubusercontent.com/u/14101776?v=4\",\n    alt: \"avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, aboutMe.First, \" \", aboutMe.Last))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"about-me\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"section-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, \"About Me\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: toggleForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }, \"Edit Details\"), showForm && /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 20\n    }\n  })), aboutMe.Aboutme)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heatmap-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"section-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, \"Daily Login Heatmap\"), lastLogin && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heatmap-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, \"Last login: \", lastLogin.toDateString()), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, \"Empty days: \", emptyDays)), /*#__PURE__*/React.createElement(CalendarHeatmap, {\n    startDate: new Date('2022-04-01'),\n    endDate: new Date('2023-04-01'),\n    values: heatmapData,\n    showWeekdayLabels: true,\n    weekdayLabels: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    onClick: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(FriendsList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Profile;","map":{"version":3,"sources":["/workspace/eduonetech/src/components/Profile.js"],"names":["React","useState","CalendarHeatmap","Navbar","FriendsList","firebase","useAuth","useEffect","app","Profile","searchText","setSearchText","text2","setText2","First","setFirst","Last","setLast","aboutMe","setAboutMe","currentUser","lastLogin","setLastLogin","handleSearchChange","event","target","value","handleSearchChange1","handleSearchChange2","handleSearchChange3","handleLogin","now","Date","Form","handleSubmit","firstName","setFirstName","lastName","setLastName","interests","setInterests","formError","color","userId","auth","uid","userRef","firestore","collection","doc","get","then","exists","data","console","log","catch","error","handleAddAboutMe","text","db","currentUserRef","set","email","loginDate","Aboutme","Interests","generateHeatmapData","today","yearAgo","getFullYear","getMonth","getDate","date","setDate","count","Math","floor","random","push","getTime","showForm","setShowForm","toggleForm","heatmapData","emptyDays","filter","length","toDateString"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport CalendarHeatmap from 'react-calendar-heatmap';\nimport 'react-calendar-heatmap/dist/styles.css';\nimport Navbar from './Navbar';\nimport FriendsList from './Friendlist';\nimport firebase from 'firebase';\nimport { useAuth } from '../contexts/AuthContext.js';\nimport { useEffect } from 'react';\nimport app from '../firebase';\nfunction Profile() {\n  const [searchText, setSearchText] = useState('');\n  const [text2, setText2] = useState('');\n  const [First, setFirst] = useState('');\n  const [Last, setLast] = useState('');\n  const [aboutMe, setAboutMe] = useState([]);\n  const { currentUser } = useAuth();\n  const [lastLogin, setLastLogin] = useState(null);\n\n  // Simulating a login event\n  const handleSearchChange = (event) => {\n    setSearchText(event.target.value);\n  };\n  const handleSearchChange1 = (event) => {\n    setText2(event.target.value);\n  };\n  const handleSearchChange2 = (event) => {\n    setFirst(event.target.value);\n  };\n  const handleSearchChange3 = (event) => {\n    setLast(event.target.value);\n  };\n  const handleLogin = () => {\n    const now = new Date();\n    setLastLogin(now);\n  };\n  function Form() {\n    return (\n      <div>\n      <form onSubmit={handleSubmit}>\n      <label>\n        First Name:\n        <input\n          type=\"text\"\n          value={firstName}\n          onChange={(event) => setFirstName(event.target.value)}\n        />\n      </label>\n      <br />\n      <label>\n        Last Name:\n        <input\n          type=\"text\"\n          value={lastName}\n          onChange={(event) => setLastName(event.target.value)}\n        />\n      </label>\n      <br />\n      <label>\n        About Me:\n        <textarea\n          value={aboutMe}\n          onChange={(event) => setAboutMe(event.target.value)}\n        />\n      </label>\n      <br />\n      <label>\n        Interests:\n        <input\n          type=\"text\"\n          value={interests}\n          onChange={(event) => setInterests(event.target.value)}\n        />\n      </label>\n      <br />\n      {formError && <div style={{ color: 'red' }}>{formError}</div>}\n      <button type=\"submit\">Submit</button>\n    </form>\n      </div>\n    );\n  }\n  useEffect(() => {\n   // const currentUser = firebase.auth().currentUser;\n    const userId = app.auth().currentUser.uid;//const LoginDate = new Date();\n    //const currentUserRef = db.collection('users').doc(currentUser.uid);\n    //const AboutRef = db.collection('users').doc(userId);\n    const userRef = firebase.firestore().collection('users').doc(userId);\n\n    userRef.get().then((doc) => {\n      if (doc.exists) {\n        const data = doc.data();\n        setAboutMe(data);\n      } else {\n        console.log('No such document!');\n      }\n    }).catch((error) => {\n      console.log('Error getting document:', error);\n    });\n  }, []);\n  const handleAddAboutMe = (text2,text) => {\n    const db = firebase.firestore();\n    const currentUserRef = db.collection('users').doc(currentUser.uid);\n    currentUserRef.set({\n        First: First,\n        Last: Last,\n        email: currentUser.email,\n        loginDate: new Date(),\n        Aboutme: text,\n        Interests: text2\n    })\n      .then(() => {\n        console.log('About me  added successfully!');\n      })\n      .catch((error) => {\n        console.error('Error adding About me:', error);\n      });\n  };\n  // Generate random heatmap data\n  const generateHeatmapData = () => {\n    const today = new Date();\n    const yearAgo = new Date(today.getFullYear() - 1, today.getMonth(), today.getDate());\n\n    const data = [];\n\n    for (let date = yearAgo; date <= today; date.setDate(date.getDate() + 1)) {\n      const count = Math.floor(Math.random() * 4);\n      data.push({\n        date: new Date(date.getTime()),\n        count,\n      });\n    }\n\n    return data;\n  };\n  const [showForm, setShowForm] = useState(false);\n\n  const toggleForm = () => {\n    setShowForm(!showForm);\n  };\n  const heatmapData = generateHeatmapData();\n\n  // Calculate number of empty days\n  const emptyDays = heatmapData.filter((data) => data.count === 0).length;\n\n  return (\n    <div className=\"container\">\n      <Navbar/>\n      <div className=\"profile\">\n        <img\n          className=\"avatar\"\n          src=\"https://avatars.githubusercontent.com/u/14101776?v=4\"\n          alt=\"avatar\"\n        />\n        <div>\n          <h1 className=\"username\">\n            {aboutMe.First} {aboutMe.Last}\n          </h1>\n        </div>\n\n      </div>\n\n      <div className=\"about-me\">\n        <h2 className=\"section-title\">About Me</h2>\n        <p>\n        <div>\n      <button onClick={toggleForm}>Edit Details</button>\n      {showForm && <Form />}\n    </div>\n          {aboutMe.Aboutme}\n        </p>\n      </div>\n\n      <div className=\"heatmap-container\">\n        <h2 className=\"section-title\">Daily Login Heatmap</h2>\n        {lastLogin && (\n          <div className=\"heatmap-info\">\n            <p>Last login: {lastLogin.toDateString()}</p>\n            <p>Empty days: {emptyDays}</p>\n          </div>\n        )}\n        <CalendarHeatmap\n          startDate={new Date('2022-04-01')}\n          endDate={new Date('2023-04-01')}\n          values={heatmapData}\n          showWeekdayLabels={true}\n          weekdayLabels={['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']}\n          onClick={handleLogin}\n        />\n      </div>\n      <FriendsList/>\n    </div>\n  );\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}