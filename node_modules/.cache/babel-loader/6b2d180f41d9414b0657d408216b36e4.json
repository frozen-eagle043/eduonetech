{"ast":null,"code":"var _jsxFileName = \"/workspace/eduonetech/src/components/Navbar.js\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from '/contexts/AuthContext.js';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\n\nconst Navbar = () => {\n  const [searchText, setSearchText] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [theme, setTheme] = useState('light');\n  const {\n    currentUser\n  } = useAuth();\n  const history = useHistory();\n\n  const handleSearchChange = event => {\n    setSearchText(event.target.value);\n  };\n\n  const handleSearchSubmit = event => {\n    event.preventDefault();\n    const db = firebase.firestore();\n    const usersRef = db.collection('users');\n    const query = usersRef.where('email', '==', searchText);\n    query.get().then(querySnapshot => {\n      const results = [];\n      querySnapshot.forEach(doc => {\n        results.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      setSearchResults(results);\n    }).catch(error => {\n      console.error('Error searching for users:', error);\n    });\n  };\n\n  const handleAddFriend = userId => {\n    const db = firebase.firestore();\n    const currentUserRef = db.collection('users').doc(currentUser.uid);\n    const friendRef = currentUserRef.collection('friends').doc(userId);\n    friendRef.set({}).then(() => {\n      console.log('Friend added successfully!');\n    }).catch(error => {\n      console.error('Error adding friend:', error);\n    });\n  };\n\n  const handleToggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    document.body.classList.toggle('dark-theme', newTheme === 'dark');\n  };\n\n  const handleLogout = () => {\n    firebase.auth().signOut().then(() => {\n      history.push('/login');\n    }).catch(error => {\n      console.error('Error logging out:', error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSearchSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search users by email\",\n    value: searchText,\n    onChange: handleSearchChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"Search\")), searchResults.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Search results:\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, searchResults.map(result => /*#__PURE__*/React.createElement(\"li\", {\n    key: result.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, result.email, \" \", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleAddFriend(result.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 32\n    }\n  }, \"Add friend\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: theme === 'dark',\n    onChange: handleToggleTheme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }), \" Dark mode\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, \"Logout\"));\n};\n\nexport default Navbar;","map":{"version":3,"sources":["/workspace/eduonetech/src/components/Navbar.js"],"names":["React","useState","useHistory","useAuth","firebase","Navbar","searchText","setSearchText","searchResults","setSearchResults","theme","setTheme","currentUser","history","handleSearchChange","event","target","value","handleSearchSubmit","preventDefault","db","firestore","usersRef","collection","query","where","get","then","querySnapshot","results","forEach","doc","push","id","data","catch","error","console","handleAddFriend","userId","currentUserRef","uid","friendRef","set","log","handleToggleTheme","newTheme","document","body","classList","toggle","handleLogout","auth","signOut","length","map","result","email"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from '/contexts/AuthContext.js';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\n\nconst Navbar = () => {\n  const [searchText, setSearchText] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [theme, setTheme] = useState('light');\n  const { currentUser } = useAuth();\n  const history = useHistory();\n\n  const handleSearchChange = (event) => {\n    setSearchText(event.target.value);\n  };\n\n  const handleSearchSubmit = (event) => {\n    event.preventDefault();\n    const db = firebase.firestore();\n    const usersRef = db.collection('users');\n    const query = usersRef.where('email', '==', searchText);\n    query.get()\n      .then((querySnapshot) => {\n        const results = [];\n        querySnapshot.forEach((doc) => {\n          results.push({ id: doc.id, ...doc.data() });\n        });\n        setSearchResults(results);\n      })\n      .catch((error) => {\n        console.error('Error searching for users:', error);\n      });\n  };\n\n  const handleAddFriend = (userId) => {\n    const db = firebase.firestore();\n    const currentUserRef = db.collection('users').doc(currentUser.uid);\n    const friendRef = currentUserRef.collection('friends').doc(userId);\n    friendRef.set({})\n      .then(() => {\n        console.log('Friend added successfully!');\n      })\n      .catch((error) => {\n        console.error('Error adding friend:', error);\n      });\n  };\n\n  const handleToggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    document.body.classList.toggle('dark-theme', newTheme === 'dark');\n  };\n\n  const handleLogout = () => {\n    firebase.auth().signOut()\n      .then(() => {\n        history.push('/login');\n      })\n      .catch((error) => {\n        console.error('Error logging out:', error);\n      });\n  };\n\n  return (\n    <nav>\n      <form onSubmit={handleSearchSubmit}>\n        <input type=\"text\" placeholder=\"Search users by email\" value={searchText} onChange={handleSearchChange} />\n        <button type=\"submit\">Search</button>\n      </form>\n      {searchResults.length > 0 && (\n        <div>\n          <h3>Search results:</h3>\n          <ul>\n            {searchResults.map((result) => (\n              <li key={result.id}>\n                {result.email} <button onClick={() => handleAddFriend(result.id)}>Add friend</button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n      <div>\n        <label>\n          <input type=\"checkbox\" checked={theme === 'dark'} onChange={handleToggleTheme} /> Dark mode\n        </label>\n      </div>\n      <button onClick={handleLogout}>Logout</button>\n    </nav>\n  );\n};\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}